<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Beauty Lounge</title>

    <link rel="stylesheet" href="src/style.css">
</head>

<body>
    <!-- Header -->
    <header>
        <div class="container">
            <nav class="navbar">
                <div class="logo">Beauty Lounge</div>
                <ul class="nav-menu">
                    <li><a href="#home" class="nav-link">Home</a></li>
                    <li><a href="#services" class="nav-link">Services</a></li>
                    <li><a href="#about" class="nav-link">About</a></li>
                    <li><a href="#testimonials" class="nav-link">Testimonials</a></li>
                    <li><a href="#contact" class="nav-link">Contact</a></li>
                </ul>
                <a href="#" id="loginBtn" class="cta-button">Login</a>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section id="home" class="hero">
        <div class="video-background">
            <video autoplay muted loop playsinline id="heroVideo">
                <source src="/vid.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
            <div class="overlay"></div>
        </div>
        <div class="container">
            <div class="hero-content">
                <div class="hero-text">
                    <h1 class="slide-in">Discover Your Natural Beauty</h1>
                    <p class="slide-in">Experience luxury beauty treatments in a relaxing environment. Our skilled professionals will
                        help you look and feel your best.</p>
                    <a href="#services" class="cta-button slide-in">Explore Services</a>
                </div>
                <div class="hero-image">
                    <!-- Removed image since we're using video background -->
                </div>
            </div>
        </div>
    </section>

    <!-- Services Section -->
    <section id="services" class="services">
        <div class="container">
            <div class="section-title">
                <h2>Our Services</h2>
                <p>We offer a wide range of premium beauty treatments tailored to your unique needs</p>
            </div>
            <div class="services-grid">
                <div class="service-card">
                    <div class="service-image">
                        <img src="facial.webp" alt="Facial Treatments">
                    </div>
                    <h3>Facial Treatments</h3>
                    <p>Rejuvenate your skin with our custom facial treatments designed for your specific skin type.</p>
                    <a href="facial" class="nav-link">Learn More</a>
                </div>
                <div class="service-card">
                    <div class="service-image">
                        <img src="nail.webp" alt="Nail Care">
                    </div>
                    <h3>Nail Care</h3>
                    <p>Get perfectly manicured nails with our range of nail treatments and artistic designs.</p>
                    <a href="nails" class="nav-link">Learn More</a>
                </div>
                <div class="service-card">
                    <div class="service-image">
                        <img src="hair.jpeg" alt="Hair Styling">
                    </div>
                    <h3>Hair Styling</h3>
                    <p>Transform your look with our expert hair styling, coloring, and treatment services.</p>
                    <a href="hair.html" class="nav-link">Learn More</a>
                </div>
                <div class="service-card">
                    <div class="service-image">
                        <img src="body.webp" alt="Body Treatments">
                    </div>
                    <h3>Body Treatments</h3>
                    <p>Indulge in our relaxing body treatments including massages and skin rejuvenation.</p>
                    <a href="body.html" class="nav-link">Learn More</a>
                </div>
                <div class="service-card">
                    <div class="service-image">
                        <img src="brows.webp" alt="Lash & Brow">
                    </div>
                    <h3>Lash & Brow</h3>
                    <p>Enhance your natural beauty with our professional lash extensions and brow shaping.</p>
                    <a href="lash.html" class="nav-link">Learn More</a>
                </div>
                <div class="service-card">
                    <div class="service-image">
                        <img src="makeuptrea.webp" alt="Makeup Services">
                    </div>
                    <h3>Makeup Services</h3>
                    <p>Look your best for any occasion with our professional makeup application services.</p>
                    <a href="makeup.html" class="nav-link">Learn More</a>
                </div>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="about">
        <div class="container">
            <div class="about-content">
                <div class="about-image">
                    <img src="beauteeee.jpeg" alt="Beauty professionals">
                </div>
                <div class="about-text">
                    <h2>About Beauty Lounge</h2>
                    <p>Founded in 2015, Beauty Lounge has been dedicated to providing exceptional beauty services in a
                        luxurious and welcoming environment.</p>
                    <p>Our team of certified professionals is passionate about beauty and committed to staying updated
                        with the latest techniques and trends in the industry.</p>
                    <p>We use only high-quality, premium products that are safe for you and the environment. Your
                        satisfaction and well-being are our top priorities.</p>
                    <a href="#contact" class="cta-button">Contact Us</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Testimonials Section -->
    <section id="testimonials" class="testimonials">
        <div class="container">
            <div class="section-title">
                <h2>What Our Clients Say</h2>
                <p>Don't just take our word for it - hear from our satisfied clients</p>
            </div>
            <div class="testimonial-grid">
                <div class="testimonial-card">
                    <div class="testimonial-text">
                        "I've been coming to Beauty Lounge for over a year now, and I'm always impressed with the
                        quality of service. The staff is professional, friendly, and skilled. Highly recommend!"
                    </div>
                    <div class="testimonial-author">
                        <div class="author-avatar">
                            <img src="woman1.jpg" alt="Sarah Johnson">
                        </div>
                        <div class="author-info">
                            <div class="author-name">Sarah Johnson</div>
                            <div class="author-rating">
                                <img src="star2.png" alt="star" class="star-img">
                                <img src="star2.png" alt="star" class="star-img">
                                <img src="star2.png" alt="star" class="star-img">
                                <img src="star2.png" alt="star" class="star-img">
                                <img src="star2.png" alt="star" class="star-img">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="testimonial-card">
                    <div class="testimonial-text">
                        "The facial treatment I received was absolutely amazing! My skin feels refreshed and looks
                        radiant. The ambiance is so relaxing, and the staff truly cares about your needs."
                    </div>
                    <div class="testimonial-author">
                        <div class="author-avatar">
                            <img src="woman2.jpg" alt="Emily Davis">
                        </div>
                        <div class="author-info">
                            <div class="author-name">Emily Davis</div>
                            <div class="author-rating">
                                <img src="star2.png" alt="star" class="star-img">
                                <img src="star2.png" alt="star" class="star-img">
                                <img src="star2.png" alt="star" class="star-img">
                                <img src="star2.png" alt="star" class="star-img">
                                <img src="star2.png" alt="star" class="star-img">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="testimonial-card">
                    <div class="testimonial-text">
                        "Beauty Lounge is my go-to place for all my beauty needs. Their nail artists are creative and
                        detail-oriented. I always leave feeling beautiful and confident!"
                    </div>
                    <div class="testimonial-author">
                        <div class="author-avatar">
                            <img src="man1.webp" alt="Michael Torres">
                        </div>
                        <div class="author-info">
                            <div class="author-name">Michael Torres</div>
                            <div class="author-rating">
                                <img src="star2.png" alt="star" class="star-img">
                                <img src="star2.png" alt="star" class="star-img">
                                <img src="star2.png" alt="star" class="star-img">
                                <img src="star2.png" alt="star" class="star-img">
                                <img src="star2.png" alt="star" class="star-img">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="contact">
        <div class="container">
            <div class="section-title">
                <h2>Contact Us</h2>
                <p>Get in touch with us to book an appointment or learn more about our services</p>
            </div>
            <div class="contact-content">
                <div class="contact-info">
                    <h3>Our Information</h3>
                    <div class="contact-item">
                        <div class="contact-icon">📍</div>
                        <div>123 Beauty Street, City, State 12345</div>
                    </div>
                    <div class="contact-item">
                        <div class="contact-icon">📞</div>
                        <div>(123) 456-7890</div>
                    </div>
                    <div class="contact-item">
                        <div class="contact-icon">✉️</div>
                        <div>info@beautylounge.com</div>
                    </div>
                    <div class="contact-item">
                        <div class="contact-icon">🕒</div>
                        <div>
                            <div>Monday - Friday: 9am - 8pm</div>
                            <div>Saturday: 10am - 6pm</div>
                            <div>Sunday: Closed</div>
                        </div>
                    </div>
                </div>
                <div class="contact-form">
                    <form id="contactForm">
                        <div class="form-group">
                            <input type="text" class="form-control" placeholder="Your Name" required>
                        </div>
                        <div class="form-group">
                            <input type="email" class="form-control" placeholder="Your Email" required>
                        </div>
                        <div class="form-group">
                            <input type="tel" class="form-control" placeholder="Your Phone">
                        </div>
                        <div class="form-group">
                            <select class="form-control" required>
                                <option value="" disabled selected>Select Service</option>
                                <option value="facial">Facial Treatment</option>
                                <option value="nails">Nail Care</option>
                                <option value="hair">Hair Styling</option>
                                <option value="body">Body Treatment</option>
                                <option value="lash">Lash & Brow</option>
                                <option value="makeup">Makeup Service</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <textarea class="form-control" placeholder="Your Message"></textarea>
                        </div>
                        <button type="submit" class="submit-button">Send Message</button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>Beauty Lounge</h3>
                    <p>Your destination for premium beauty services in a luxurious and welcoming environment.</p>
                    <div class="social-links">
                        <a href="#" class="social-icon">📱</a>
                        <a href="#" class="social-icon">📷</a>
                        <a href="#" class="social-icon">📘</a>
                        <a href="#" class="social-icon">🐦</a>
                    </div>
                </div>
                <div class="footer-column">
                    <h3>Quick Links</h3>
                    <ul class="footer-links">
                        <li><a href="index">Home</a></li>
                        <li><a href="index#services">Services</a></li>
                        <li><a href="index#about">About Us</a></li>
                        <li><a href="index#testimonials">Testimonials</a></li>
                        <li><a href="index#contact">Contact</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Services</h3>
                    <ul class="footer-links">
                        <li><a href="facial.html">Facial Treatments</a></li>
                        <li><a href="nails.html">Nail Care</a></li>
                        <li><a href="hair.html">Hair Styling</a></li>
                        <li><a href="body.html">Body Treatments</a></li>
                        <li><a href="lash.html">Lash & Brow</a></li>
                        <li><a href="makeup.html">Makeup Services</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Newsletter</h3>
                    <p>Subscribe to our newsletter for the latest updates and offers.</p>
                    <form>
                        <div class="form-group">
                            <input type="email" class="form-control" placeholder="Your Email" required>
                        </div>
                        <button type="submit" class="submit-button">Subscribe</button>
                    </form>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Beauty Lounge. All Rights Reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Login/Signup Modal -->
    <div class="modal" id="authModal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>

            <div class="auth-tabs">
                <div class="auth-tab active" data-tab="login">Login</div>
                <div class="auth-tab" data-tab="signup">Sign Up</div>
            </div>

            <!-- Login Form -->
            <form class="auth-form active" id="loginForm">
                <div class="form-group">
                    <label for="loginEmail">Email</label>
                    <input type="email" id="loginEmail" required>
                </div>
                <div class="form-group">
                    <label for="loginPassword">Password</label>
                    <input type="password" id="loginPassword" required>
                </div>
                <div class="form-error" id="loginError"></div>
                <button type="submit" class="auth-button">Login</button>
                <div class="form-footer">
                    <a href="#" id="forgotPassword">Forgot Password?</a>
                </div>
            </form>

            <!-- Signup Form -->
            <form class="auth-form" id="signupForm">
                <div class="form-group">
                    <label for="signupName">Full Name</label>
                    <input type="text" id="signupName" required>
                </div>
                <div class="form-group">
                    <label for="signupEmail">Email</label>
                    <input type="email" id="signupEmail" required>
                </div>
                <div class="form-group">
                    <label for="signupPhone">Phone Number</label>
                    <input type="tel" id="signupPhone" required>
                </div>
                <div class="form-group">
                    <label for="signupPassword">Password</label>
                    <input type="password" id="signupPassword" required minlength="6">
                </div>
                <div class="form-group">
                    <label for="signupConfirmPassword">Confirm Password</label>
                    <input type="password" id="signupConfirmPassword" required minlength="6">
                </div>
                <div class="form-error" id="signupError"></div>
                <button type="submit" class="auth-button">Sign Up</button>
            </form>

            <!-- Forgot Password Form -->
            <form class="auth-form" id="forgotPasswordForm" style="display: none;">
                <h3>Reset Password</h3>
                <div class="form-group">
                    <label for="resetEmail">Email</label>
                    <input type="email" id="resetEmail" required>
                </div>
                <div class="form-error" id="resetError"></div>
                <button type="submit" class="auth-button">Send Reset Link</button>
                <div class="form-footer">
                    <a href="#" id="backToLogin">Back to Login</a>
                </div>
            </form>

            <!-- Reset Password Form -->
            <form class="auth-form" id="resetPasswordForm" style="display: none;">
                <h3>Set New Password</h3>
                <div class="form-group">
                    <label for="newPassword">New Password</label>
                    <input type="password" id="newPassword" required minlength="6">
                </div>
                <div class="form-group">
                    <label for="confirmNewPassword">Confirm New Password</label>
                    <input type="password" id="confirmNewPassword" required minlength="6">
                </div>
                <div class="form-error" id="newPasswordError"></div>
                <button type="submit" class="auth-button">Reset Password</button>
            </form>
        </div>
    </div>

    <script src="https://sql.js.org/dist/sql-wasm.js"></script>
    <script type="module">
        import { 
            setupDatabase, 
            registerUser,
            loginUser,
            generateResetToken,
            resetPassword
        } from './server.js';

        let currentUser = null;
        let resetToken = null;

        // Initialize database
        window.addEventListener('load', async () => {
            try {
                await setupDatabase();
                console.log('Database initialized');
            } catch (error) {
                console.error('Error initializing database:', error);
            }
        });

        // Modal functionality
        const modal = document.getElementById('authModal');
        const loginBtn = document.getElementById('loginBtn');
        const closeBtn = document.querySelector('.close-modal');
        const authTabs = document.querySelectorAll('.auth-tab');
        const authForms = document.querySelectorAll('.auth-form');
        const forgotPasswordLink = document.getElementById('forgotPassword');
        const backToLoginLink = document.getElementById('backToLogin');

        // Show error message
        function showError(elementId, message) {
            const errorElement = document.getElementById(elementId);
            errorElement.textContent = message;
            errorElement.style.display = message ? 'block' : 'none';
        }

        // Update UI based on authentication state
        function updateAuthUI(user) {
            currentUser = user;
            const loginBtn = document.getElementById('loginBtn');
            
            if (user) {
                loginBtn.textContent = 'Logout';
                // Add user-specific UI updates here
                console.log('Logged in as:', user.name);
            } else {
                loginBtn.textContent = 'Login';
                // Reset UI to logged-out state
            }
        }

        // Open modal
        loginBtn.addEventListener('click', (e) => {
            e.preventDefault();
            if (currentUser) {
                // Handle logout
                currentUser = null;
                updateAuthUI(null);
                return;
            }
            modal.classList.add('active');
        });

        // Close modal
        closeBtn.addEventListener('click', () => {
            modal.classList.remove('active');
        });

        // Close modal when clicking outside
        window.addEventListener('click', (e) => {
            if (e.target === modal) {
                modal.classList.remove('active');
            }
        });

        // Tab switching    
        authTabs.forEach(tab => {
            tab.addEventListener('click', () => {
                authTabs.forEach(t => t.classList.remove('active'));
                authForms.forEach(f => f.classList.remove('active'));
                tab.classList.add('active');
                document.querySelector(`.auth-form#${tab.dataset.tab}Form`).classList.add('active');
                // Hide forgot password form
                document.getElementById('forgotPasswordForm').style.display = 'none';
                document.getElementById('resetPasswordForm').style.display = 'none';
            });
        });

        // Login form submission
        document.getElementById('loginForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            showError('loginError', '');
            
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;

            try {
                const user = await loginUser(email, password);
                updateAuthUI(user);
                modal.classList.remove('active');
                // Clear form
                e.target.reset();
            } catch (error) {
                showError('loginError', error.message);
            }
        });

        // Signup form submission
        document.getElementById('signupForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            showError('signupError', '');

            const name = document.getElementById('signupName').value;
            const email = document.getElementById('signupEmail').value;
            const phone = document.getElementById('signupPhone').value;
            const password = document.getElementById('signupPassword').value;
            const confirmPassword = document.getElementById('signupConfirmPassword').value;

            if (password !== confirmPassword) {
                showError('signupError', 'Passwords do not match');
                return;
            }

            try {
                const user = await registerUser(name, email, password, phone);
                updateAuthUI(user);
                modal.classList.remove('active');
                // Clear form
                e.target.reset();
            } catch (error) {
                showError('signupError', error.message);
            }
        });

        // Show forgot password form
        forgotPasswordLink.addEventListener('click', (e) => {
            e.preventDefault();
            document.getElementById('loginForm').classList.remove('active');
            document.getElementById('signupForm').classList.remove('active');
            document.getElementById('forgotPasswordForm').style.display = 'block';
            authTabs.forEach(tab => tab.classList.remove('active'));
        });

        // Back to login
        backToLoginLink.addEventListener('click', (e) => {
            e.preventDefault();
            document.getElementById('forgotPasswordForm').style.display = 'none';
            document.getElementById('loginForm').classList.add('active');
            authTabs[0].classList.add('active');
        });

        // Forgot password form submission
        document.getElementById('forgotPasswordForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            showError('resetError', '');

            const email = document.getElementById('resetEmail').value;

            try {
                resetToken = await generateResetToken(email);
                // In a real application, you would send this token via email
                console.log('Reset token:', resetToken);
                
                // Show reset password form
                document.getElementById('forgotPasswordForm').style.display = 'none';
                document.getElementById('resetPasswordForm').style.display = 'block';
            } catch (error) {
                showError('resetError', error.message);
            }
        });

        // Reset password form submission
        document.getElementById('resetPasswordForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            showError('newPasswordError', '');

            const newPassword = document.getElementById('newPassword').value;
            const confirmNewPassword = document.getElementById('confirmNewPassword').value;

            if (newPassword !== confirmNewPassword) {
                showError('newPasswordError', 'Passwords do not match');
                return;
            }

            try {
                await resetPassword(resetToken, newPassword);
                resetToken = null;
                // Show login form
                document.getElementById('resetPasswordForm').style.display = 'none';
                document.getElementById('loginForm').classList.add('active');
                authTabs[0].classList.add('active');
                alert('Password reset successful! Please login with your new password.');
            } catch (error) {
                showError('newPasswordError', error.message);
            }
        });
    </script>

    <script>
        // Intersection Observer setup
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('active');
                }
            });
        }, {
            threshold: 0.1 // Trigger when at least 10% of the element is visible
        });

        // Observe all elements with slide-in class
        document.querySelectorAll('.slide-in').forEach((element) => {
            observer.observe(element);
        });

        // Trigger animations immediately if elements are already visible on page load
        window.addEventListener('load', () => {
            document.querySelectorAll('.slide-in').forEach((element) => {
                if (element.getBoundingClientRect().top < window.innerHeight) {
                    element.classList.add('active');
                }
            });
        });

        const contactForm = document.getElementById('contactForm');

        contactForm.addEventListener('submit', function(e) {
            e.preventDefault(); // Prevent form from submitting

            // Get all form values
            const formData = {
                name: this.querySelector('input[placeholder="Your Name"]').value,
                email: this.querySelector('input[placeholder="Your Email"]').value,
                phone: this.querySelector('input[placeholder="Your Phone"]').value,
                service: this.querySelector('select').value,
                message: this.querySelector('textarea').value
            };

            // Log the data to console
            console.log('Form Submission Data:', formData);

            // Optional: Clear the form after submission
            this.reset();

            // Optional: Show success message
            alert('Message sent successfully!');
        });
    </script>
</body>

</html>